%!TEX root = ../main.tex

\chapter{Grundlagen} \label{Grundlagen}

%----------------------------------------------------------------------------------------

%Define math commands used in this chapter
	\renewcommand{\C}{\mathscr{C}}  % Symbol for a category C
	\newcommand{\D}{\mathscr{D}}  % Symbol for a category D
	\renewcommand{\N}{\mathbb{N}}  % Symbol for natural numbers
	\newcommand{\M}{\mathcal{M}}  % Symbol for Manifold M
	\newcommand{\cech}{\u{C}ech}  % Symbol for Cech complex
	\newcommand{\Set}{\mathbf{Set}}  % Symbol for category of sets
	\newcommand{\sSet}{\mathbf{sSet}}  % Symbol for category of sets
	\newcommand{\Top}{\mathbf{Top}}  % Symbol for category of sets
	\newcommand{\sFuzz}{\mathbf{sFuzz}}  % Symbol for fuzzy set category
	\newcommand{\EPMet}{\mathbf{EPMet}}  % Symbol for category of extended pseudo metric spaces
	\renewcommand{\hom}{\mathsf{Hom}}  % Symbol for morphisms
	\newcommand{\fReal}{\mathsf{FinReal}}  % Symbol for Real functor
	\newcommand{\fSing}{\mathsf{FinSing}}  % Symbol for Sing functor
	\newcommand{\fsFuzz}{\mathbf{Fin\text{-}sFuzz}}  % Symbol for finite fuzzy set category
	\newcommand{\fEPMet}{\mathbf{Fin\text{-}EPMet}}  % Symbol for category of finite extended pseudo metric spaces
	\newcommand*{\Scale}[2][4]{\scalebox{#1}{\ensuremath{#2}}}
	\newcommand{\tConorm}{\Scale[1.5]{\bot}^N_{i=1}}  % Symbol for t-Conorm
	% Alternatives for t-Conorms: $\bot_{\{1 \leq i \leq N\}}$ $\underset{i=1}{\overset{N}{\bot}}$ $\bot^N_{i=1}$

%----------------------------------------------------------------------------------------

% category Set, Top, duale Kategorie kurz (morphismen umkehren)

% Zusammenfassen der bisherigen Konstruktion und das man einen Schritt weiter geht
% Ausblicke auf das was man später mit einer Definition macht
% Wofür war die gerade gemachte Definition sinnvoll
% Die Definition einer Adjunktion ist dafür wichtig einen zwischen metrischen Räumen und 
% unscharfen simplizialen Mengen zu übersetzen.
% Typische Verwendungen für die Definition

%----------------------------------------------------------------------------------------
%----------------------------------------------------------------------------------------

% \section{Einleitung}
	Das UMAP Verfahren entstammt dem Gebiet der topologischen Datenanalyse. Die Theorie für das Verfahren 
	nutzt Grundlagen aus den Bereichen der (algebraischen) Topologie, Kategorientheorie und Mengentheorie. 
	Wir wollen diese nun einführen. Dazu geben wir die wichtigsten Definitionen und Sätze und werden 
	diese anschaulich erklären und in den Rahmen des UMAP Verfahren fassen. % TODO: ?erwähne appendixA

	Die grundlegenden Definitionen \textit{topologischer und metrischer Räume} in Abschnitt \ref{seq:top} 
	werden uns helfen \textit{(riemannsche) Mannigfaltigkeiten} einzuführen. Der Begriff der Mannigfaltigkeit 
	formalisiert den niedrigdimensionalen Raum auf, welchem der zu untersuchende Datensatz $X$ liegt.

	Die geometrische und topologische Struktur dieser Räume sollen durch \textit{simpliziale Mengen} dargestellt 
	werden. Um diese in Abschnitt \ref{seq:sSet} einzuführen, benötigen wir grundlegende Definitionen 
	aus der Kategorientheorie, siehe dazu Abschnitt \ref{seq:cat}.

	In Abschnitt \ref{seq:fuzz} werden \textit{unscharfe Mengen} eingeführt, diese werden in Kapitel \ref{UMAP} benötigt 
	um der topologischen Repräsentation der Daten $X$ eine metrische Struktur zu verleihen.

%----------------------------------------------------------------------------------------

\section{Topologische Räume} \label{seq:top}
	Der Grundlegende Begriff der Topologie ist der des topologischen Raumes.

	\begin{defn} %[Topologischer Raum]
		Sei $X$ eine nichtleere Menge. Ein Mengensystem $\tau \subset \mathcal{P}(X)$ heißt \textit{Topologie auf X}, 
		falls die folgenden drei Bedingungen erfüllt sind: 

		\begin{enumerate}
			\item $\emptyset, X \in \tau$,
			\item die Vereinigung beliebig vieler Mengen aus $\tau$ liegt wieder in $\tau$,
			\item sind $U, V \in \tau$, so liegt auch der Durchschnitt $U \cap V$ in $\tau$.
		\end{enumerate}

		Das Paar $(X,\tau)$ heißt \textit{topologischer Raum}. Die Mengen $U \in \tau$ nennt man \textit{offene} Mengen 
		des topologischen Raumes.
	\end{defn}

	\begin{rem}
		Wenn die Topologie $\tau$ eines topologischen Raumes $(X,\tau)$ aus dem Kontext klar ist, wird diese nicht explizit erwähnt.
	\end{rem}

	Man kann den Begriff erweitern indem man einen Abstandsbegriff auf der Menge $X$ definiert. Dies führt uns 
	zum metrischen Raum.

	\begin{defn} %[Metrischer Raum]
		Sei $X$ eine nichtleere Menge. Eine Abbildung $d:X \times X \to \R_{\geq 0}$ heißt \textit{Metrik} auf $X$, falls für beliebige Elemente 
		$x, y, z \in X$ die folgenden drei Bedingungen erfüllt sind:

		\begin{enumerate}
			\item $d(x,y) = 0 \iff x = y$,
			\item $d(x,y) = d(y,x)$,
			\item $d(x,y) \leq d(x,z) + d(z,y)$.
		\end{enumerate}

		Das Paar $(X, d)$ heißt \textit{metrischer Raum}. Die Metrik $d$ heißt \textit{Pseudometrik}, wenn die erste Bedingung durch 
		$d(x,y) = 0 \Leftarrow x = y$ abgeschwächt wird.

		Falls die Metrik den Wert $\infty$ annehmen kann, sprechen wir von einer \textit{erweiterten Metrik}.
	\end{defn}

	\begin{rem}
		In Fakt ist die Erweiterung einer Metrik um den Wert $\infty$ keine Einschränkung. Für eine gegebene erweiterte Metrik $d$ 
		kann nämlich stets äquivalente eine (echte) Metrik $d'$ konstruiert werden, zum Beispiel ist $d' = \frac{d}{1+d}$ äquivalent 
		zu einer erweiterten Metrik $d$. Eine formale Definition der Äquivalenz zweier metrischer Räume soll hier nicht gegeben werden. 
		Es genügt zu wissen, dass wichtige topologische Eigenschaften erhalten zwischen den beiden Räumen übertragen werden können.
		Hier gilt $x + \infty = \infty + x = \infty, x \in [0,\infty]$.
	\end{rem}

	% https://math.stackexchange.com/questions/399722/metric-assuming-the-value-infinity#399759 erweiterte metriken beitzten gute eigenschaften

	% TODO: n-dim euklidischer Raum als Beispiel

	% nichtexpansive Abbildung

	\begin{rem}
		Für einen metrischen Raum $(X, d)$, ist ein offener \textit{Ball mit Radius $r > 0)$} und Mittelpunkt $p$ mit $p$ aus $X$ gegeben durch: 
		
		\begin{align}
			B_r(p) \coloneq \{x \in X | d(x,p) < r\}.
		\end{align}

		Für den Fall, das $X$ der $n$-dimensionale euklidische Raum ist, ist das $n$-dimensionale Volumen bezüglich der euklidischen Metrik:

		\begin{align}
			V_n(B_r(p)) = \frac{\pi^{\frac{n}{2}}}{\Gamma(\frac{n}{2}+1)}r^n
		\end{align}
	\end{rem}

	In der Einleitung bereits erwähnt, werden wir Annehmen, dass unsere Daten $X=\{\mathbf{x}_i\}_{i=1}^N, (\mathbf{x}_i \in \R^D)$ mit $D$ 
	gemessenen Eigenschaften mittels $d, (d \ll D)$ Eigenschaften dargestellt werden können. 
	Um dies in die Sprache der Topologie zu fassen, werden wir den Begriff der \textit{Mannigfaltigkeit} benötigen.
	Anschaulich ist eine $d$-dimensionale Mannigfaltigkeit ein topologischer Raum welcher lokal dem euklidischen Raum $\R^d$ gleicht.
	Bevor wir Mannigfaltigkeiten einführen benötigen wir \textit{homöomorphe Abbildungen}.

	\begin{defn} %[Homöomorphimus]
		Seien $X$ und $Y$ topologische Räume. Eine Abbildung $f:X \to Y$ ist ein \textit{Homöomorphismus}, wenn gilt:
		
		\begin{enumerate}
			\item $f$ ist bijektiv,
			\item $f$ ist stetig also, wenn die Urbilder offener Mengen wieder offen sind,
			\item die Umkehrfunktion $f^{-1}$ ist ebenfalls stetig.
		\end{enumerate}

		Wenn ein Homöomorphismus $f:X \to Y$ gibt, so nennen wir $X$ und $Y$ \textit{homöomorph}.
	\end{defn}
	
	\begin{defn} %[Mannigfaltigkeit]
		Sei $\M$ ein topologischer Raum, $d \in \N$, er heißt \textit{$d$-dimensionale Mannigfaltigkeit}, 
		wenn folgende drei Bedingungen erfüllt sind:

		\begin{enumerate}
			\item für alle paarweise verschiedenen Punkte $p, q \in \M$ existieren disjunkte offene Mengen $U, V \subseteq \M$ 
				  mit $p \in U$ und $q \in V$,
			\item die Topologie von $\M$ besitzt eine abzählbare Basis 
			\item jeder Punkt in $\M$ besitzt eine Umgebung, die homöomorph zu einer offenen Teilmenge des $\R^d$ ist.
		\end{enumerate}
	\end{defn}

	Um eine \textit{riemannsche Mannigfaltigkeit} definieren zu können, benötigen wir noch einige Definitionen. 

	\begin{defn} %[Diffeomorphismus]
		Eine Abbildung $f:U\to V$ zwischen offenen Mengen $U, V \subset \R^n$ heißt \textit{$C^k$-Diffeomorphismus}, falls
		\begin{enumerate}
			\item $f$ ist bijektiv 
			\item $f$ ist überall $k$-mal stetig differenzierbar
			\item die Umkehrabbildung $f^{-1}$ ist überall $k$-mal stetig differenzierbar.
		\end{enumerate}
	\end{defn}

	\begin{defn} %[Karte]
		Es sein $\M$ eine Mannigfaltigkeit der Dimension $d$. Eine \textit{Karte} auf $\M$ ist ein Paar $(U, \phi)$, wobei $U \subseteq \M$ 
		eine offene Menge und $\phi : U \to \phi(U)$ ein Homöomorphismus mit $\phi(U) \subseteq \R^d$ ist.

		Sind $(U, \phi)$ und $(V, \psi)$ zwei Karten von $\M$ mit $U \cap V \neq \emptyset$, so nennt man die Abbildung 
		\begin{align}
			\psi \circ \phi^{-1} : \phi(U \cap V) \to \psi(U \cap V)
		\end{align}
		einen \textit{Kartenwechsel}. 

		Ein \textit{Atlas} für $\M$ ist dann eine Familie $(U_i,\phi_i)_{i \in I}$ von Karten, so dass $\M = \cup_{i \in I} U_i$ gilt. 
		Man nennt einen Atlas \textit{$C^k$-differenzierbar} mit $k \geq 1$, wenn alle seine Kartenwechsel $C^k$-Diffeomorphismen sind.
	\end{defn}

	Karten werden genutzt um zwischen der Mannigfaltigkeit und dem $\R^d$ zu übersetzen. 

	\begin{figure}
		%\centering
		\includegraphics[width=400px, height=125px]{Figures/Atlas}
		%\decoRule
		\caption[Atlas einer Mannigfaltigkeit]{Atlas einer Mannigfaltigkeit.}
		\label{fig:Atlas}
	\end{figure}

	\begin{defn}

		Eine \textit{differenzierbare} Mannigfaltigkeit ist eine...
	\end{defn}

	\begin{ex}
		$S^n$ ist eine $n$-dimensionale Mannigfaltigkeit im $\R^{n+1}$.
	\end{ex}

	% TODO: weiteres Beispiel

	Nun können wir im Fall der Dimensionsreduktion die Vermutung aufstellen, dass unsere Daten $X$ auf einer 
	$d$--dimensionale Mannigfaltigkeit $\M$ im $\R^D$ liegen. Zusätzlich gehen wir davon aus, dass unsere Daten 
	einen Abstandsbegriff erlauben. Somit lässt sich die Definition der Mannigfaltigkeit erweitern.

	% TODO: Definition riemannsche Mannigfaltigkeit, erwähne matrix darstellungs
	\begin{defn}[Riemannsche Mannigfaltigkeit]
		Sei $g$,...

		Ein Tupel $(\M, g)$, wobei $\M$ eine Mannigfaltigkeit und $g$ eine riemannsche Metrik ist heißt
		\textit{riemannsche Mannigfaltigkeit}.
	\end{defn} 

	% TODO: Metrisierbarkeit riemannsche Mannigfaltigkeit
	\begin{rem}
		Eine riemannsche Mannigfaltigkeit ist stets metrisierbar im Sinne, das ...
	\end{rem}

	% TODO: Beispiele riemannsche Mannigfaltigkeit

	Die Riemannmetrik beschreibt eine Distanz auf der Mannigfaltigkeit. Die Länge eines kürzesten Weges auf $\M$ 
	zwischen zwei Punkten $p, q \in \M$ wird als Geodäte bezeichnet und ist definiert als 

	\begin{defn}[Geodäte]
		Seien $p, q \in \M$ ...
	\end{defn}

	Der Begriff der riemannschen Mannigfaltigkeit ermöglicht es uns unsere zentrale Annahme, das $X \subseteq \R^D$ 
	einer niedrigdimensionalen Struktur entnommen ist, zu formalisieren.
	Wir möchten nun diese niedrigdimensionale Struktur genauer beschreiben.

%----------------------------------------------------------------------------------------

\section{Kategorientheorie} \label{seq:cat}
	Die für die mathematischen Grundlagen des UMAP Verfahren benötigten Definitionen 
	werde ich mithilfe der Kategorientheorie einführen. 
	Diese sehr abstrakte Form mathematische Objekte und Zusammenhänge zu formalisieren 
	wurde erstmals in den vierziger Jahren von Eilenberg und Mac Lane eingeführt \cite{Eilenberg}. 

	Eine Kategorie ist eine Menge an Objekten und Abbildungen zwischen diesen, die Abbildungen nennt man 
	Morphismen. Dabei können sehr unterschiedliche mathematische Konstrukte in der Sprache der Kategorientheorie 
	formuliert werden. Zuerst möchten wir eine Kategorie definieren und einige Beispiele geben. 
	Für das UMAP Verfahren werden wir die Kategorie der metrischen Räume und der \textit{simplizialen 
	Mengen} betrachten. Die Formulierung eines Konstruktes, zum Beispiel der metrischen Räume, als Kategorie 
	ist meist trivial. Eine Bedeutung erhält eine Kategorie erst, wenn sie in Verbindung mit anderen Kategorien 
	gebracht wird. Dafür werden wir in diesem Abschnitt die \textit{Adjunktion} einführen. 
	Die Kategorientheorie wird oft dazu genutzt Beweise zu vereinfachen, insbesondere wird dafür die 
	relativ unscheinbare Kategorie $\Set$ verwendet, siehe dazu das \textit{Yoneda Lemma}. 
	 
	\begin{defn} %[Kategorie]
	 Eine Kategorie $\C$ besteht aus folgenden Daten:
	 	\begin{enumerate}
	 		\item Eine Klasse $Ob(\C)$, deren Elemente wir \textit{Objekte} nennen
			\item zu je zwei Objekten $\mathit{A, B \in Ob(\C)}$ einer Menge $\mathit{\hom_\C(A, B)}$, 
				deren Elemente wir mit $f: A \to B$ notieren und \textit{Morphismen} von $A$ nach $B$
				nennen,
			\item zu je drei Objekten $A, B, C \in Ob(\C)$ einer Abbildung
				\begin{equation*}
					\hom_\C(A, B) \times \hom_\C(B, C) \to \hom_\C(A, C)
				\end{equation*}
				die wir mit $(f, g) \mapsto g \circ f$ notieren und \textit{Komposition von Morphismen} nennen,
			\item zu jedem Objekt $A \in Ob(\C)$ einen ausgezeichneten Morphismus
				\begin{equation*}
					id_A \in \hom_\mathcal{C}(A,A),
				\end{equation*}
				welchen wir die \textit{Identität} von $A$ nennen.
		\end{enumerate}
	 Diese Daten müssen den folgenden Regeln genügen:
		\begin{enumerate}
			\item Die Komposition von Morphismen ist \textit{assoziativ}: Für drei Morphismen 
				der Form $f:A \to B, \ g:  B \to C, \ h:C \to D$ in $\C$ gilt
				\begin{equation*}
					h \circ (g \circ f) = (h \circ g) \circ f
				\end{equation*}
				als Morphismen $A \to D$.
			\item Die Identität sind \textit{beidseitig neutral} bezüglich der Komposition:
				Für jeden Morphismus $f: A \to B$ in $\C$ gilt
				\begin{equation*}
					f \circ id_A =  f = id_A \circ f
				\end{equation*}
		\end{enumerate}
	\end{defn}

	\begin{rem}
		Anstelle von $A \in Ob(\C)$ schreibt man meistens $A \in \C$. 
		Falls die Kategorie $\C$ aus dem Kontext bekannt ist, werden wir $\hom_\C(A, B)$
		mit $\hom(A, B)$ abkürzen.
	\end{rem}

	\begin{rem}
		Bei Klassen kann es sich um Ansammlungen von Objekten handeln, die \enquote{größer} als Mengen sind.
		Für eine Definition einer Klasse verweisen wir auf \cite{Levy}. 
		In unseren Beispielen genügt die Vorstellung einer Menge.
		Meist ist $Ob(\C)$ sogar eine Menge. Dann spricht man formal von einer strikten kleinen Kategorie.
	\end{rem}

	\begin{ex}
		\textit{Passende Beispiele von Kategorien, welche später wieder genutzt werden. $\Top, \Set, (Fin)EPMet, I$} % fürr I siehe fuzzy sets
		% Erwähne dass nicht erweiternde Abbildungen genutzt werden, da Isometrien der Räume zu restriktiv wären 
	\end{ex}

	Ein weiterer für die folgenden Definitionen wichtiger Begriff ist der der dualen Kategorie.

	\begin{defn}[Duale Kategorie]
		Es sei $\C$ eine Kategorie. Die \textit{duale Kategorie $\C{op}$} ist die Kategorie mit 
		$Ob(\C^{op}) = Ob(\C)$ und $\hom_{\C^{op}}(A,B) = \hom_{\C}(B,A)$.
	\end{defn}

	\begin{rem}
		Eine Eigenschaft der dualen Kategorie ist, dass Aussagen, 
		welche für alle Kategorien bewiesen wurden, auch für alle dualen Kategorien gelten. 
	\end{rem}

	Wir möchten nun den Begriff des Funktors zwischen zwei Kategorien einführen. Ein Funktor ordnet Objekte einer 
	Kategorie $\C$ Objekten einer Kategorie $\D$ zu, und entsprechend für Morphismen. Insbesondere bleibt 
	die Eigenschaft der Isomorphie zwischen zwei Objekten erhalten. 

	\begin{defn} %[Funktor]
		Es seien $\C$ und $\D$ zwei Kategorien. Ein \textit{Funktor}
		\begin{equation*}
			F : \C \to \D
		\end{equation*}
		von $\C$ nach $\D$ besteht aus folgenden Daten:
		\begin{enumerate}
			\item für jedes Objekt $A \in \C$ ein Objekt $F(A) \in \D$,
			\item für jeden Morphismus $f: A \to B$ in $\C$ einen Morphismus
						\begin{equation*}
							F(f) : F(A) \to F(B)
						\end{equation*}
						in $\D$.
			\end{enumerate}
		Dabei soll gelten:
		\begin{enumerate}
			\item Für jedes Objekt $A \in \C$ ist $F(id_A) = id_{F(A)}$.
			\item Für je zwei Morphismen $f: A \to B,\ g: B \to C$ in $\C$ gilt in $\D$:
						\begin{equation*}
							F(g \circ_{\C} f) = F(g) \circ_{\D} F(f)
						\end{equation*}
		\end{enumerate}
	\end{defn}

	\begin{rem}
		Bezüglich der Kategorie $\C$ ist ein Funktor $F : \C \to \D$ kovariant, während 
		$F : \C^{op} \to \D$ kontravariant (bzgl. $\C$) ist.
	\end{rem}

	\begin{rem}
		Insbesondere kann man für eine strikte kleine Kategorie $\C$ und Objekte $A, B, C \in \C$ den kontravarianten 
		\textit{Hom-Funktor} definieren, indem man 

		\begin{equation}
			\label{Hom-Funktor}
			\hom(-,B): \C \to \Set
		\end{equation}

		betrachtet. Der Hom-Funktor bildet ein Objekt $A \in \C$ auf die Menge der Morphismen $\hom(A, B)$ ab, 
		und einen Morphismus $h: A \to C$ auf die Funktion 

		\begin{equation}
			\hom(h, B): \hom(C, B) \to \hom(A, B), \text{wobei } g \mapsto g \circ h \text{ für } g \in \hom(C, B)	
		\end{equation}

		Analog lässt sich der kovariante Hom-Funktor $\hom(A, -)$ definieren. 
	\end{rem}

	Eine nützliche Definition um auf sinnvolle Weise Funktoren ineinander zu überführen und dabei die Komposition der Morphismen 
	zu berücksichtigen sind \textit{natürliche Transformationen}. 

	\begin{defn}
		Seien $F,G : \C \to \D$. Eine \textit{natürliche Transformationen $t$} von $F$ nach $G$ ist eine Familie von Morphismen $t$, mit 

		\begin{itemize}
			\item für jedes $A \in \C$ gibt es einen Morphismus $t_A : F(A) \to G(A)$ zwischen Objekten in $\D$,
			\item für beliebige Objekte $A, B$ und beliebige Morphismus $f \in Hom_\C(A, B)$ gilt: $t_A \circ F(f) = G(f) \circ t_A$.
		\end{itemize}

		Wir nennen $F$ und $G$ \textit{natürlich äquivalent}, wenn es natürliche Transformationen $t:F \to G, u: G \to F$ gibt, so dass 
		$t \circ u = id_G$ und $u \circ t = id_F$.
		Falls $t_A$ für ein beliebiges $A \in \C$ ein Isomorphismus in $\D$ ist, dann bezeichnen wir $\D$ als \textit{natürlichen Isomorphismus}.
	\end{defn}

	Die folgende Definition wird uns eine abgeschwächte Form einer Äquivalenz von Kategorien liefern. Sie ermöglicht uns  
	verschiedene Kategorien miteinander zu verbinden. 

	\begin{defn} %[Adjunktion]
		Seien $\C,\C$ Kategorien und $F:\C \to \D$ und $G: \D \to \C$ Funktoren. Dann bilden $\C$ und $\D$ ein 
		\textit{adjungiertes Funktorpaar}, wenn die Funktoren 

		\begin{align}
			\quad (A, B) \mapsto \hom_\D(A, F(Y)) \quad (A, B) \mapsto \hom_\D(G(A), Y), 
		\end{align}

		natürlich äquivalent sind. Dabei bilden die Funktoren von $\D^{op} \times \C$ in die Kategorie der Mengen $\Set$ ab. 
		Man sagt zusammen mit den beiden Kategorien und den beiden Funktoren bildet die natürliche Äquivalenz eine \textit{Adjunktion}. 
		Wir bezeichnen $F$ als \textit{rechtsadjungiert} zu $G$ und $G$ \textit{linksadjungiert} zu $F$.
	\end{defn}

	\begin{rem}
		Später werden wir den Begriff des \textit{Limes} verwenden. Eine formale Definition dessen würde den Rahmen dieser Arbeit 
		überschreiten. Wir verweisen auf \cite{Brandenburg}. Wichtig für weitere Überlegungen ist eine anschauliche Betrachtung des 
		Limes zum verknüpfen kleinerer Strukturen zu einer Großen. 
	\end{rem}

	Wir werden nun das \textit{Yoneda Lemma} nennen. Dieses wir im Allgemeinen dazu genutzt die Struktur der 
	Kategorie $\Set$ und einfache Begriffe welche auf dieser gegeben sind auf beliebige Kategorien zu übertragen. 
	Das Lemma wird angewendet um die Yoneda Einbettung zu geben. In dieser Arbeit werden wir es benötigen um 
	Aussagen über simpliziale Mengen zu zeigen. Außerdem wir es verwendet um Satz \ref{thm:umapadj} zu beweisen. 

	\begin{YL}
		Sei $\C$ eine Kategorie, $F:\C \to \Set$ ein Funktor, dann ist 

		\begin{align}
			\Phi : Nat(\hom(-,B), F) &\to F(A) \\
			t &\mapsto t_A(id_A)
		\end{align}

		ein Isomorphismus. Wobei $Nat(G,F)$ die Menge der natürlichen Transformationen von $G$ nach $F$ angibt. 
		Somit ist $t_A : \hom_\C(A,B) \to F(A)$. 
	\end{YL}

	\begin{rem}
		Die Wohldefiniertheit von $\Phi$ ist sofort ersichtlich, die Injektivität und Surjektivität können mithilfe
		der Eigenschaften der natürlichen Transformationen nachgerechnet werden. 
		Der Beweis lässt sich auch mit dem kovarianten Hom-Funktor durchführen. 
	\end{rem}

	% TODO: Anwendungen des Lemmas	

	Wir werden diese benutzen um Kategorien zu definieren, mit Objekten als Funktoren und den Morphismen die natürlichen Transformationen.
	Eine häufig verwendete Form eines kontravarianten Funktors ist die Prägarbe (\textit{engl.: presheaf}). 
	Wir werden später eine Prägarbe verwenden um \textit{simpliziale Mengen} einzuführen.

	\begin{defn} %[Prägarbe]
		Eine Prägarbe auf einer kleinen Kategorie $\C$ ist ein Funktor
		\begin{equation*}
			\mathcal{P}: \C^{op} \to \Set
		\end{equation*}
		von der dualen Kategorie $\C^{op}$ von $\C$ in die Kategorie $\Set$ von Mengen.
	\end{defn}

	\begin{defn} %[Prägarbenkategorie]
		Sei $\widehat{\C}$ die Prägarbenkategorie einer Kategorie $\C$ : Objekte sind Prägarben, also 
		Funktoren $\mathcal{P}: \C^{op} \to \Set$, und Morphismen sind natürliche 
		Transformationen der Funktoren.
	\end{defn}

	% TODO: Begriffe zusammenführen und Zusammenfassung

%----------------------------------------------------------------------------------------

\section{Simpliziale Mengen} \label{seq:sSet}
	Für die Konstruktion der topologischen Repräsentation der Daten werden wir \textit{simpliziale Mengen} 
	benötigen. Diese stellen eine Verallgemeinerung der in der TDA häufig verwendeten \textit{Simplizialkomplexe} 
	dar. Wir möchten den interessierten Leser an dieser Stelle auf die sehr verständlich und ausführlich gestalteten 
	Notizen von Friedman \cite{Friedman} verweisen, dort wird der Unterschied zwischen diesen beiden Konstrukten 
	sehr illustrativ erläutert. % TODO: Appendix mit Zusammenfassung? 

	Um simpliziale Mengen einzuführen werden wir die kategorientheoretische Definition verwenden. 
	Dafür wird die \textit{Simplexkategorie} benötigt. Zuerst werden wir der Vollständigkeit halber die Definition eines 
	\textit{geometrischen Simplex} geben.

	\begin{defn} %[(geometrischer) Simplex]
		Ein \textit{(geometrischer) $n$-Simplex} ist eine von $n+1$ geometrisch unabhängigen Punkten $\{v_0,\dotsc,v_n\}$ 
		aufgespannte konvexe Hülle im euklidischen Raum. Die geometrische Unabhängigkeit der Vektoren bedeutet dabei, das 
		$v_1 - v_0, \dotsc v_n - v_0$ linear unabhängig sind. 
		Die Vektoren $v_i$ werden \textit{Knoten} genannt und die von den Teilmengen von $\{v_0,\dotsc,v_n\}$ aufgespannten 
		konvexen Hüllen, \textit{Facetten} des $n$-Simplex.
	\end{defn}

	\begin{defn}[Simplexkategorie]
		Die Objekte der \textit{Simplexkategorie} $\Delta$ sind die Mengen 
		$[n] \coloneqq \{0,1,\dotsc,n\}$ für $n \in \mathbb{N}$, 
		und Morphismen sind monoton wachsende Abbildungen. 
		Dabei ist $[n] \coloneqq \{1,\dotsc,n\}$.
	\end{defn}

	\begin{figure}
		%\centering
		\includegraphics[width=400px, height=146px]{Figures/geom_simplizes}
		%\decoRule
		\caption[Geometrische Simplizes]{Die geometrischen 0-, 1-, 2- und 3-Simplizes, 
				in manchen Fällen werden diese auch als (geordnete) Standardsimplizes bezeichnet.}
		\label{fig:geom_simplizes}
	\end{figure}

	Um eine Verbindung zwischen der Simplexkategorie und geometrischen $n$-Simplizes (siehe Abbildung \ref{fig:geom_simplizes}) herzustellen, 
	betrachtet man die $n$-elementigen Mengen in $\Delta$ und den Funktor $\abs{\cdot}: \Delta \to \Top$, 
	gegeben durch

	\begin{equation*}
		\abs{\cdot} : [n] \mapsto \abs{\Delta^n} \coloneqq \biggl\lbrace (t_0, \dotsc, t_n) \in \R^{n+1} 
		\Big\vert \sum_{i=0}^n t_i = 1, t_i \geq 0 \biggr\rbrace
	\end{equation*}

	Das Bild von $[n]$ unter $\abs{\cdot}$ ist somit ein geometrischer $n$-Simplex.

	\begin{defn}
		Eine \textit{simpliziale Menge} ist ein Funktor 
		$X : \Delta^{op} \to \Set$. Üblicherweise wird 
		$X([n])$ als $X_n$ geschrieben, und wir bezeichnen die Elemente $x \in X_n$ als n-Simplizes. 
		Der n-dimensionale \textit{Standardsimplex} ist 
		
		\begin{equation*}
			\Delta^n \coloneqq \hom(-, [n]).
		\end{equation*}
	\end{defn}

	\begin{rem}
		Simpliziale Mengen sind also Hom-Funktoren (siehe Gleichung (\ref{Hom-Funktor})).
	\end{rem}

	% TODO: Alternative Definition simplizialer Mengen

	\begin{defn}
		Die Objekte der Kategorie der simplizialen Mengen $\sSet$ sind simpliziale Mengen und ihre Morphismen sind natürliche Transformationen.
	\end{defn}

	Um ein besseres Verständnis für eine simpliziale Menge zu bekommen ist es oft sinnvoll an einen \textit{Simplizialkomplex} 
	zu denken. 

	\begin{defn} %[Simplizialkomplex]
		Ein \textit{(geometrischer) Simplizialkomplex} $\mathcal{K}$ in $\R^n$ ist eine Menge von (geometrischen) Simplizes, 
		möglicherweise unterschiedlicher Dimension, in $\R^n$, so dass
		\begin{enumerate}
			\item jede Facette eines Simplex aus $\mathcal{K}$ in $\mathcal{K}$ ist, und
			\item der Schnitt zweier Simplizes aus $\mathcal{K}$ ist eine Facette beider Simplizes.
		\end{enumerate}
	\end{defn}

	\begin{rem}
		Ein Simplizialkomplex ist anschaulich betrachtet ein geometrisches Objekt, welches aus mehreren Simplizes besteht. 
		Die Simplizes dürfen dabei nur entlang ihrer Facetten \textit{zusammengefügt} werden. 
	\end{rem}

	Simplizialkomplexe können dabei helfen topologische Räume zu beschreiben, die kombinatorische Struktur des 
	Simplizialkomplexes kann dann dazu genutzt werden, Aussagen über den zugrundeliegenden topologischen Raum zu treffen. 
	Dabei sind die genauen räumlichen Lagebeziehungen der Simplizes oft zu vernachlässigen und es kann folgende Verallgemeinerung gemacht werden:  

	\begin{defn} %[Abstrakter Simplizialkomplex]
		Ein \textit{abstraktes Simplex $\sigma$} ist eine nichtleere endliche Menge. Ein Element eines abstrakten Simplex $\sigma$ nennen 
		wir \textit{Knoten}, eine nichtleere Teilmenge $\sigma' \subset \sigma$ ist wieder ein abstrakter Simplex und wird \textit{Facette} von $\sigma$ genannt. 
		Die \textit{Dimension} eines abstrakten Simplex $\sigma$ welcher aus einer $k+1$-Elementigen Menge besteht ist $k$, oft nennen wir $\sigma$ dann einen 
		(abstrakten) $k$-Simplex. 

		Ein \textit{abstrakter Simplizialkomplex} $\mathcal{K}$ ist eine Menge von Simplizes mit der Eigenschaft, dass jede Facette $\sigma' \subset \sigma$ 
		eines Simplizes $\sigma \in \mathcal{K}$ wieder zu $\mathcal{K}$ gehört, also $\sigma' \in \mathcal{K}$. 
		Das \textit{$k$-Skelett} eines Simplizialkomplex $\mathcal{K}$ ist die Menge aller seiner Simplizes der Dimension $\leq k$.
	\end{defn}

	Abstrakte Simplizialkomplexe besitzen im Allgemeinen also keine Informationen über die relative räumliche Lage der Knoten, insbesondere können die 
	Knoten beliebige Objekte sein. Ähnlich sind simpliziale Mengen zu verstehen, allerdings enthalten diese noch \textit{mehr} Informationen über die 
	Simplizes, siehe dazu \cite{Friedman}. 

	Eine hilfreiche Eigenschaft (abstrakter) Simplizialkomplexe ist, dass sich diese aus den einfach zu beschreibenden geometrischen $n$-Simplizes zusammensetzen. 
	Diese Eigenschaft lässt sich auf simpliziale Mengen mittels Yoneda Lemma übertragen. Sei $X$ eine simpliziale Menge, dann gibt es für alle $x \in X_n$ 
	einen Morphismus $x:\Delta^n \to X$.  Eine Anwendung von \cite{maclane} (Kap.7, Thm.1) liefert uns:  %TODO: prüfe Quelle

	\begin{equation}
		X \simeq \varinjlim \Delta^n,
		\label{eq:colimit}
	\end{equation}

	wobei der Limes über eine von $X$ bestimmte Indexkategorie genommen wird.

	% TODO: Alternative Definition und Ex 4.7 aus Friedmann

	\begin{rem}
		Eine mathematische Definition des Limes wird in dieser Arbeit nicht gegeben, da diese einige Vorbereitungen benötigen würde. Wir verweisen den 
		Leser auf geeignete Literatur, beispielsweise \cite{Brandenburg}.
		In der englischen Literatur wird der Limes oft als colim geschrieben und der \textit{inverse Limes} als $\lim$.
	\end{rem}

	Dennoch soll kurz erläutert werden wie der Limes zu verstehen ist. Er ist das duale Konstrukt zum Limes, deshalb operiert er auf der dualen Kategorie. 
	Anschaulich werden die Objekte (hier die $\Delta^n$) in einer passenden Weise \textit{zusammengefügt}. 
	In Gleichung (\ref{eq:colimit}) bedeutet dies also, dass sich eine simpliziale Menge aus den Standardsimplizes zusammensetzt.

	\begin{rem}
		Somit können wir analog zu Simplizialkomplexen das $k$-Skelett einer simplizialen Menge als Menge aller $k$-Simplizes und die Elemente 
		des $0$-Skelett als Knoten bezeichnen.
	\end{rem}

	Wie bereits erwähnt lassen sich für topologische Räume geeignete (abstrakte) Simplizialkomplexe konstruieren, ähnliches gilt auch für simpliziale Mengen. 
	In der Tat gibt es aus kategorientheoretischer Sichtweise eine \textit{gute} Beziehung zwischen simplizialen Mengen und topologischen Räumen, diese lässt 
	sich durch zwei adjungierte Funktoren wie folgt beschreiben: 

	\begin{thm}
		Die \textit{geometrische Realisierung} gegeben durch:
		
		\begin{equation}
			\quad \abs{\cdot} : \sSet \to \Top,		\quad \abs{X} \mapsto \varinjlim \abs{\Delta^n}, %TODO: worüber geht der Limes?
		\end{equation}

		und der \textit{singuläre Mengen} Funktor

		\begin{equation}
			\quad S : \Top \to \sSet, \text{mit}		\quad S(Y) : [n] \to \hom_\Top(\abs{\Delta^n}, Y),
		\end{equation}

		bilden eine Adjunktion.
		\label{thm:adj}
	\end{thm}

	Diese Adjunktion werden wir in Kapitel \ref{UMAP} für metrische Räume erweitern. 

%----------------------------------------------------------------------------------------

\section{Unscharfe Mengen} \label{seq:fuzz}
	Ein geometrischer Simplizialkomplex enthält Informationen über die Lage der Knoten, abstrakte Simplizialkomplexe und simpliziale Mengen 
	fehlt diese Eigenschaft. In Kapitel \ref{UMAP} werden wir die hochdimensionalen Daten $\mathbf{x}_i$ betrachten und für diese  
	eine simpliziale Menge konstruieren. Dazu möchten wir auch die Eigenschaft nutzen, dass die betrachteten Daten $X$ eine Metrik besitzen. 
	Um simplizialen Mengen, genauer gesagt den Knoten, einen \textit{Abstandsbegriff} zuzuordnen werden wir den Begriff der \textit{unscharfen Menge} nutzen.

	In der klassischen Mengentheorie ist die Zugehörigkeit eines Elementes $x$ zu einer Menge $X$ eine binäre Funktion. Entweder gilt $x \in X \text{oder} x \notin X$. 
	Eine \textit{unscharfe Menge} verallgemeinert die Zugehörigkeit. 

	\begin{defn} %[Unscharfe Menge]
		Sei $A$ eine Menge und $\mu: A \to [0,1]$. Wir nennen des Paar $(A, \mu)$ \textit{unscharfe Menge} und $\mu$ die \textit{Zugehörigkeitsfunktion}. 
		Für $a \in A$ nennen wir $\mu(a)$ den \textit{Zugehörigkeitsgrad von $a$}.
	\end{defn}

	\begin{rem}
		Dabei wird das Bild von $a \in A$ unter $\mu$ als Wahrscheinlichkeit interpretiert, dass $a \in A$. 
		Eine \textit{klassische} Menge $A$ ist ein Spezialfall einer unscharfen Menge, mit $\mu(A) = 1$. 
	\end{rem}

	\begin{defn}
		Seien $(A,\mu), (B, \nu)$ unscharfe Mengen. Man sagt \textit{$(A, \mu)$ ist leer}, falls $\mu$ die konstante Nullfunktion ist. 
		Die \textit{Gleichheit} von $(A,\mu), (B, \nu)$ ist gegeben, wenn $A = B$ und $\mu(a) = \nu(a)$ für alle $a \in A$.
	\end{defn}

	\begin{rem}
		Die Elemente mit Zugehörigkeitsgrad $0$ spielen also eine entschiedene Rolle bei der Angabe einer unscharfen Menge. 
		Beispielsweise sind unscharfen Mengen $(\{1,2\}, (\mu(1)=1, \mu(2)=0)), (\{1,3\}, (\mu(1)=1, \mu(3)=0))$ nicht gleich. 
	\end{rem}

	Eine Verallgemeinerung der klassischen Mengenoperationen für unscharfe Mengen zu definieren benötigt die \textit{t-Normen}.

	\begin{defn} %[t-Norm]
		Sei $\top : [0,1] \times [0,1] \to [0,1]$. Dann ist $\top$ eine \textit{t-Norm}, wenn gilt, 

		\begin{itemize}
			\item $\top(a,b) = \top(b,a)$,
			\item $a \leq b, c \leq d \Rightarrow \top(a,b) \leq \top(c,d)$, 
			\item $\top(a,\top(b,c)) = \top(\top(a,b),c)$, 
			\item $\top(1,a) = \top(a,1) = 1$.
		\end{itemize}

		Eine monoton fallende Abbildung $\neg : [0,1] \to [0,1]$ mit $\neg(0)=1, \neg(1)=0$ wird \textit{Negator} genannt. 
		Die Abbildung $\bot$, mit $\bot(a,b) = \neg\top(\neg a,\neg b)$ wird als \textit{zu $\top$ über $\neg$ zugehörige t-Conorm} bezeichnet. 
	\end{defn}

	\begin{defn}
		Das Tripel $(\top, \bot, \neg)$ heißt \textit{De-Morgan-Triplett}, wenn $\top$ eine t-Norm, $\neg$ ein Negator und $\bot$ die zu $\top$ 
		über $\neg$ zugehörige t-Conorm ist. 
	\end{defn}

	\begin{ex}
		Die Abbildungen $\top(a,b) \coloneqq ab, \bot(a,b) \coloneqq a + b - ab, \neg(a) \coloneqq 1-a$ bilden ein De-Morgan-Triplett. 
		\label{ex:tNorm}
	\end{ex}

	Nun können wir die Definition der Mengenoperationen aus der Fuzzy-Logik geben.

	\begin{defn}
		Sei $(\top, \bot, \neg)$ ein De-Morgan-Triplett und $(A, \mu), (A, \nu)$ unscharfe Mengen. Dann ist 

		\begin{itemize}
			\item $(A, \mu \cap \nu)$, mit $(\mu \cap \nu)(a) \coloneqq \top(\mu(a), \nu(a)), a \in A$, der \textit{Schnitt von $(A, \mu)$ und $(A, \nu)$},
			\item $(A, \mu \cup \nu)$, mit $(\mu \cup \nu)(a) \coloneqq \bot(\mu(a), \nu(a)), a \in A$, die \textit{Vereinigung von $(A, \mu)$ und $(A, \nu)$},
			\item $(A, \neg \circ \mu)$, das \textit{Komplement von $(A, \mu)$}.
		\end{itemize}
	\end{defn}

	\begin{rem}
		Es gilt $\neg((A, \mu \cap \nu)) = (A,(\neg \circ \mu) \cup (\neg \circ \nu))$ und $\neg((A, \mu \cup \nu)) = (A,(\neg \circ \mu) \cap (\neg \circ \nu))$.
		Die definierten Mengenoperationen auf unscharfen Mengen erfüllen also die De-Morgan Regeln der klassischen Mengenlehre. 
	\end{rem}

	Um die Theorie des UMAP Verfahrens in Kapitel \ref{UMAP} zu formal beschreiben zu können, werden wir die Kategorie unscharfer simplizialer Mengen benötigen. 
	Seit der Einführung unscharfer Mengen in \cite{Zadeh} gab es verschiedene Ansätze diese Kategorie zu definieren, unter anderem von 
	Goguen \cite{Goguen}. Diese Definition hat laut \cite{Barr} den Nachteil, dass zwei Morphismen unscharfer Mengen nicht gleich sind, wenn sie sich nur 
	auf Elementen mit Zugehörigkeitsgrad $0$ unterscheiden. Da wir Elemente mit Zugehörigkeitsgrad $0$ als Elemente interpretieren möchten, welche nicht 
	zur Menge gehören, ist Goguens Definition problematisch. 

	% TODO: Fortsetzen... Kategorien Definition und Übersetzung
	% TODO: Kreuzentropie 
	\begin{equation}
		C((A,\mu), (A, \nu)) \coloneqq \sum_{a \in A} \left(\mu(a)\log\left(\frac{\mu(a)}{\nu(a)}\right) +  \left(1-\mu(a)\right)\log\left(\frac{1-\mu(a)}{1-\nu(a)}\right)  \right)
		\label{eq:crossentropy}
	\end{equation}

%----------------------------------------------------------------------------------------